<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color Simulator</title>
    <script type="module" crossorigin>
var wt=Object.defineProperty;var pt=(e,t,n)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Le=(e,t,n)=>(pt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function J(){}function et(e){return e()}function Ue(){return Object.create(null)}function $(e){e.forEach(et)}function Be(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function St(e){return Object.keys(e).length===0}function E(e,t){e.appendChild(t)}function K(e,t,n){e.insertBefore(t,n||null)}function W(e){e.parentNode&&e.parentNode.removeChild(e)}function Ve(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function O(e){return document.createElement(e)}function he(e){return document.createTextNode(e)}function j(){return he(" ")}function Y(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Mt(e){return e===""?null:+e}function Tt(e){return Array.from(e.childNodes)}function Ee(e,t){t=""+t,e.data!==t&&(e.data=t)}function ie(e,t){e.value=t??""}function N(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function qe(e,t,n){for(let l=0;l<e.options.length;l+=1){const r=e.options[l];if(r.__value===t){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ct(e){const t=e.querySelector(":checked");return t&&t.__value}let de;function ge(e){de=e}function Et(){if(!de)throw new Error("Function called outside component initialization");return de}function yt(e){Et().$$.on_mount.push(e)}const oe=[],D=[];let re=[];const Ae=[],Ot=Promise.resolve();let ke=!1;function Pt(){ke||(ke=!0,Ot.then(tt))}function Te(e){re.push(e)}function H(e){Ae.push(e)}const Ne=new Set;let ne=0;function tt(){if(ne!==0)return;const e=de;do{try{for(;ne<oe.length;){const t=oe[ne];ne++,ge(t),Rt(t.$$)}}catch(t){throw oe.length=0,ne=0,t}for(ge(null),oe.length=0,ne=0;D.length;)D.pop()();for(let t=0;t<re.length;t+=1){const n=re[t];Ne.has(n)||(Ne.add(n),n())}re.length=0}while(oe.length);for(;Ae.length;)Ae.pop()();ke=!1,Ne.clear(),ge(e)}function Rt(e){if(e.fragment!==null){e.update(),$(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Te)}}function Lt(e){const t=[],n=[];re.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),re=t}const we=new Set;let ee;function nt(){ee={r:0,c:[],p:ee}}function lt(){ee.r||$(ee.c),ee=ee.p}function F(e,t){e&&e.i&&(we.delete(e),e.i(t))}function q(e,t,n,l){if(e&&e.o){if(we.has(e))return;we.add(e),ee.c.push(()=>{we.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function se(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function U(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function X(e){e&&e.c()}function Q(e,t,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),Te(()=>{const o=e.$$.on_mount.map(et).filter(Be);e.$$.on_destroy?e.$$.on_destroy.push(...o):$(o),e.$$.on_mount=[]}),r.forEach(Te)}function Z(e,t){const n=e.$$;n.fragment!==null&&(Lt(n.after_update),$(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Nt(e,t){e.$$.dirty[0]===-1&&(oe.push(e),Pt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fe(e,t,n,l,r,o,i=null,u=[-1]){const a=de;ge(e);const s=e.$$={fragment:null,ctx:[],props:o,update:J,not_equal:r,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ue(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};i&&i(s.root);let c=!1;if(s.ctx=n?n(e,t.props||{},(f,h,...S)=>{const b=S.length?S[0]:h;return s.ctx&&r(s.ctx[f],s.ctx[f]=b)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](b),c&&Nt(e,f)),h}):[],s.update(),c=!0,$(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const f=Tt(t.target);s.fragment&&s.fragment.l(f),f.forEach(W)}else s.fragment&&s.fragment.c();t.intro&&F(e.$$.fragment),Q(e,t.target,t.anchor),tt()}ge(a)}class ae{constructor(){Le(this,"$$");Le(this,"$$set")}$destroy(){Z(this,1),this.$destroy=J}$on(t,n){if(!Be(n))return J;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!St(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(It);function At(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kt=4,Bt=.001,Vt=1e-7,jt=10,ce=11,me=1/(ce-1),zt=typeof Float32Array=="function";function ot(e,t){return 1-3*t+3*e}function rt(e,t){return 3*t-6*e}function it(e){return 3*e}function Ce(e,t,n){return((ot(t,n)*e+rt(t,n))*e+it(t))*e}function st(e,t,n){return 3*ot(t,n)*e*e+2*rt(t,n)*e+it(t)}function Dt(e,t,n,l,r){var o,i,u=0;do i=t+(n-t)/2,o=Ce(i,l,r)-e,o>0?n=i:t=i;while(Math.abs(o)>Vt&&++u<jt);return i}function Ft(e,t,n,l){for(var r=0;r<kt;++r){var o=st(t,n,l);if(o===0)return t;var i=Ce(t,n,l)-e;t-=i/o}return t}function Gt(e){return e}var Ht=function(t,n,l,r){if(!(0<=t&&t<=1&&0<=l&&l<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&l===r)return Gt;for(var o=zt?new Float32Array(ce):new Array(ce),i=0;i<ce;++i)o[i]=Ce(i*me,t,l);function u(a){for(var s=0,c=1,f=ce-1;c!==f&&o[c]<=a;++c)s+=me;--c;var h=(a-o[c])/(o[c+1]-o[c]),S=s+h*me,b=st(S,t,l);return b>=Bt?Ft(a,S,t,l):b===0?S:Dt(a,s,s+me,t,l)}return function(s){return s===0?0:s===1?1:Ce(u(s),n,r)}};const je=At(Ht),ye={min:0,max:1,step:.01,default:.4,list:[{value:0,label:"0%"},{value:.25,label:"25%"},{value:.5,label:"50%"},{value:1,label:"100%"}]},Oe={min:1e3,max:1e4,step:1,default:4e3,list:[{value:1e3,label:"1000k"},{value:6e3,label:"6000k"},{value:12e3,label:"12000k"}]},ut={min:0,max:1,step:.01,default:1,list:[{value:0,label:"0%"},{value:.5,label:"50%"},{value:1,label:"100%"}]},ze={min:0,max:1,step:.01,default:.8,list:[{value:0,label:"0%"},{value:50,label:"50%"},{value:100,label:"100%"}]},De={min:500,max:16e3,step:500,default:8e3,list:[{value:1e3,label:"1s"},{value:8e3,label:"8s"},{value:16e3,label:"16s"}]};function Ut(e,t=1){return new Array(t).fill(e)}function qt(e,t=1){return Ut(e,t).flat()}function Wt(e,t,n){return e*(1-n)+t*n}const Jt=1;function V(e,t,n){return{red:e,green:t,blue:n}}function x(e,t=1,n=!0){return ft({red:e.red*t,green:e.green*t,blue:e.blue*t},n)}function ft(e,t=!0){return e}function pe(e){return Kt(e)/(Jt*3)}function Kt(e){return e.red+e.green+e.blue}function at(e,t,n=.5,l=!0){return Qt(x(e,n,l),x(t,1-n,l),l)}function Ie(e,t,n=1,l=.5,r=!1){if(l<0||l>1)throw new Error("Filter strength must be between 0 and 1");const o=We(e),i=x(e,1/o),u=We(t),a=x(t,1/u),s=x(V(Math.min(i.red,a.red),Math.min(i.green,a.green),Math.min(i.blue,a.blue)),o,r);return x(at(s,e,l,r),n,r)}function We(e){return Math.max(e.red,e.green,e.blue)}function le(e,t=1){return`color(display-p3 ${e.red} ${e.green} ${e.blue} / ${t})`}function Qt(e,t,n=!0){return ft({red:e.red+t.red,green:e.green+t.green,blue:e.blue+t.blue},n)}const Se=V(1,1,1),be=V(1,0,0),Je=V(0,1,0),ve=V(0,0,1),Zt=V(1,1,0),Yt=V(1,0,1),Xt=V(0,1,1),xt=V(1,.5,0);function $t(){return nn.map(en)}function en(e){return{...ct[e],key:e}}function tn(e){return ct[e].colors}const nn=["christmas","test_pattern_colors","red_white_and_blue"],ct={christmas:{label:"Holiday",colors:[ve,Je,xt,be]},red_white_and_blue:{label:"Red White & Blue",colors:[be,Se,ve,be,Se,ve]},test_pattern_colors:{label:"Test Pallette",colors:[Se,be,Je,ve,Zt,Yt,Xt]}};function ln(){return dt.map(gt)}function gt(e){return Object.assign({key:e},rn[e])}function on(e){return dt.includes(e)}const dt=["incandescent","led","warm_incandescent","cool_incandescent","true_beauty"],rn={incandescent:{colorTemperature:Oe.default,filterStrength:.8,ledMode:!1,label:"Incandescent"},led:{ledMode:!0,label:"LED"},warm_incandescent:{colorTemperature:2e3,filterStrength:.7,ledMode:!1,label:"Warm Incandescent",brightness:.55},cool_incandescent:{colorTemperature:1e4,filterStrength:.7,ledMode:!1,label:"Cool Incandescent"},true_beauty:{colorTemperature:2e3,filterStrength:.6,brightness:.75,ledMode:!1,glow:!0,label:"True Beauty",colorOption:"christmas"}};function Ke(e,t,n){const l=e.slice();return l[8]=t[n],l}function Qe(e){let t,n=e[8].label+"",l,r;return{c(){t=O("option"),l=he(n),t.__value=r=e[8].value,ie(t,t.__value),d(t,"class","svelte-1vqt43w")},m(o,i){K(o,t,i),E(t,l)},p(o,i){i&8&&n!==(n=o[8].label+"")&&Ee(l,n),i&8&&r!==(r=o[8].value)&&(t.__value=r,ie(t,t.__value))},d(o){o&&W(t)}}}function sn(e){let t,n,l,r,o,i,u,a,s,c,f,h,S,b=se(e[3].list||[]),w=[];for(let y=0;y<b.length;y+=1)w[y]=Qe(Ke(e,b,y));return{c(){t=O("div"),n=O("label"),l=he(e[2]),r=j(),o=O("input"),s=j(),c=O("datalist");for(let y=0;y<w.length;y+=1)w[y].c();d(n,"for",e[1]),d(n,"class","svelte-1vqt43w"),o.disabled=e[4],d(o,"type","range"),d(o,"id",e[1]),d(o,"name",e[1]),d(o,"min",i=e[3].min),d(o,"max",u=e[3].max),d(o,"step",a=e[3].step),d(o,"list",e[6]),d(o,"class","svelte-1vqt43w"),d(c,"id",e[6]),d(c,"class","svelte-1vqt43w"),d(t,"class",f=e[1]+" control svelte-1vqt43w")},m(y,_){K(y,t,_),E(t,n),E(n,l),E(t,r),E(t,o),ie(o,e[0]),E(t,s),E(t,c);for(let m=0;m<w.length;m+=1)w[m]&&w[m].m(c,null);h||(S=[Y(o,"change",e[7]),Y(o,"input",e[7]),Y(o,"change",function(){Be(e[5])&&e[5].apply(this,arguments)})],h=!0)},p(y,[_]){if(e=y,_&4&&Ee(l,e[2]),_&2&&d(n,"for",e[1]),_&16&&(o.disabled=e[4]),_&2&&d(o,"id",e[1]),_&2&&d(o,"name",e[1]),_&8&&i!==(i=e[3].min)&&d(o,"min",i),_&8&&u!==(u=e[3].max)&&d(o,"max",u),_&8&&a!==(a=e[3].step)&&d(o,"step",a),_&1&&ie(o,e[0]),_&8){b=se(e[3].list||[]);let m;for(m=0;m<b.length;m+=1){const M=Ke(e,b,m);w[m]?w[m].p(M,_):(w[m]=Qe(M),w[m].c(),w[m].m(c,null))}for(;m<w.length;m+=1)w[m].d(1);w.length=b.length}_&2&&f!==(f=e[1]+" control svelte-1vqt43w")&&d(t,"class",f)},i:J,o:J,d(y){y&&W(t),Ve(w,y),h=!1,$(S)}}}function un(e,t,n){let{name:l}=t,{label:r}=t,{rangeParameters:o}=t,{disabled:i=!1}=t,{value:u=o==null?void 0:o.default}=t,{onChange:a=()=>{}}=t;const s=`${l}_list`;function c(){u=Mt(this.value),n(0,u)}return e.$$set=f=>{"name"in f&&n(1,l=f.name),"label"in f&&n(2,r=f.label),"rangeParameters"in f&&n(3,o=f.rangeParameters),"disabled"in f&&n(4,i=f.disabled),"value"in f&&n(0,u=f.value),"onChange"in f&&n(5,a=f.onChange)},[u,l,r,o,i,a,s,c]}class Me extends ae{constructor(t){super(),fe(this,t,un,sn,ue,{name:1,label:2,rangeParameters:3,disabled:4,value:0,onChange:5})}}function Ze(e,t,n){const l=e.slice();return l[8]=t[n],l}function Ye(e){let t,n=e[8].label+"",l,r,o;return{c(){t=O("option"),l=he(n),r=j(),t.__value=o=e[8].value,ie(t,t.__value)},m(i,u){K(i,t,u),E(t,l),E(t,r)},p(i,u){u&16&&n!==(n=i[8].label+"")&&Ee(l,n),u&16&&o!==(o=i[8].value)&&(t.__value=o,ie(t,t.__value))},d(i){i&&W(t)}}}function fn(e){let t,n,l,r,o,i,u,a,s,c=se(e[4]),f=[];for(let h=0;h<c.length;h+=1)f[h]=Ye(Ze(e,c,h));return{c(){t=O("div"),n=O("div"),l=O("label"),r=he(e[2]),o=j(),i=O("select");for(let h=0;h<f.length;h+=1)f[h].c();d(l,"for",e[1]),d(l,"class","svelte-1ah8fr5"),i.disabled=e[3],d(i,"name","mode"),d(i,"class","svelte-1ah8fr5"),e[0]===void 0&&Te(()=>e[6].call(i)),d(n,"class","wrapper"),d(t,"class",u=e[1]+" select control svelte-1ah8fr5")},m(h,S){K(h,t,S),E(t,n),E(n,l),E(l,r),E(n,o),E(n,i);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(i,null);qe(i,e[0],!0),a||(s=[Y(i,"change",e[6]),Y(i,"input",e[7])],a=!0)},p(h,[S]){if(S&4&&Ee(r,h[2]),S&2&&d(l,"for",h[1]),S&16){c=se(h[4]);let b;for(b=0;b<c.length;b+=1){const w=Ze(h,c,b);f[b]?f[b].p(w,S):(f[b]=Ye(w),f[b].c(),f[b].m(i,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=c.length}S&8&&(i.disabled=h[3]),S&17&&qe(i,h[0]),S&2&&u!==(u=h[1]+" select control svelte-1ah8fr5")&&d(t,"class",u)},i:J,o:J,d(h){h&&W(t),Ve(f,h),a=!1,$(s)}}}function an(e,t,n){let{name:l}=t,{label:r}=t,{disabled:o=!1}=t,{value:i=void 0}=t,{options:u}=t,{onChange:a=()=>{}}=t;function s(){i=Ct(this),n(0,i),n(4,u)}const c=f=>a(f.currentTarget.value);return e.$$set=f=>{"name"in f&&n(1,l=f.name),"label"in f&&n(2,r=f.label),"disabled"in f&&n(3,o=f.disabled),"value"in f&&n(0,i=f.value),"options"in f&&n(4,u=f.options),"onChange"in f&&n(5,a=f.onChange)},[i,l,r,o,u,a,s,c]}class Xe extends ae{constructor(t){super(),fe(this,t,an,fn,ue,{name:1,label:2,disabled:3,value:0,options:4,onChange:5})}}function cn(e){let t,n,l;return{c(){t=O("button"),t.textContent="Advanced",d(t,"class","text_button advanced_toggle svelte-1a8sgfo")},m(r,o){K(r,t,o),n||(l=Y(t,"click",e[21]),n=!0)},p:J,i:J,o:J,d(r){r&&W(t),n=!1,l()}}}function gn(e){let t,n,l,r,o,i,u,a,s,c,f,h,S,b,w,y,_,m,M,L;function k(C){e[17](C)}let z={disabled:e[4],name:"colorTemperature",label:"Color Temperature",rangeParameters:Oe};e[1]!==void 0&&(z.value=e[1]),r=new Me({props:z}),D.push(()=>U(r,"value",k));function G(C){e[18](C)}let R={disabled:e[4],name:"filterStrength",label:"Filter Strength",rangeParameters:ze};e[2]!==void 0&&(R.value=e[2]),u=new Me({props:R}),D.push(()=>U(u,"value",G));function p(C){e[19](C)}let I={disabled:!e[3],name:"glowPeriod",label:"Shimmer Time",rangeParameters:De};return e[5]!==void 0&&(I.value=e[5]),c=new Me({props:I}),D.push(()=>U(c,"value",p)),{c(){t=O("button"),t.textContent="Hide Advanced",n=j(),l=O("div"),X(r.$$.fragment),i=j(),X(u.$$.fragment),s=j(),X(c.$$.fragment),h=j(),S=O("div"),b=O("div"),w=O("label"),w.textContent="LED Mode",y=j(),_=O("input"),d(t,"class","text_button advanced_toggle svelte-1a8sgfo"),d(w,"for","led_mode"),d(w,"class","svelte-1a8sgfo"),d(_,"type","checkbox"),d(_,"id","led_mode"),d(_,"name","led_mode"),d(_,"class","svelte-1a8sgfo"),d(b,"class","wrapper svelte-1a8sgfo"),d(S,"class","led_mode checkbox control svelte-1a8sgfo"),d(l,"class","advanced controls")},m(C,T){K(C,t,T),K(C,n,T),K(C,l,T),Q(r,l,null),E(l,i),Q(u,l,null),E(l,s),Q(c,l,null),E(l,h),E(l,S),E(S,b),E(b,w),E(b,y),E(b,_),_.checked=e[4],m=!0,M||(L=[Y(t,"click",e[16]),Y(_,"change",e[20])],M=!0)},p(C,T){const v={};T&16&&(v.disabled=C[4]),!o&&T&2&&(o=!0,v.value=C[1],H(()=>o=!1)),r.$set(v);const g={};T&16&&(g.disabled=C[4]),!a&&T&4&&(a=!0,g.value=C[2],H(()=>a=!1)),u.$set(g);const P={};T&8&&(P.disabled=!C[3]),!f&&T&32&&(f=!0,P.value=C[5],H(()=>f=!1)),c.$set(P),T&16&&(_.checked=C[4])},i(C){m||(F(r.$$.fragment,C),F(u.$$.fragment,C),F(c.$$.fragment,C),m=!0)},o(C){q(r.$$.fragment,C),q(u.$$.fragment,C),q(c.$$.fragment,C),m=!1},d(C){C&&(W(t),W(n),W(l)),Z(r),Z(u),Z(c),M=!1,$(L)}}}function dn(e){let t,n,l,r,o,i,u,a,s,c,f,h,S,b,w,y,_,m,M,L,k;l=new Xe({props:{name:"mode",label:"Mode",options:e[8](),onChange:e[10]}});function z(v){e[13](v)}let G={name:"color_option",label:"Colors",options:e[9]()};e[6]!==void 0&&(G.value=e[6]),o=new Xe({props:G}),D.push(()=>U(o,"value",z));function R(v){e[14](v)}let p={name:"brightness",label:"Brightness",rangeParameters:ye};e[0]!==void 0&&(p.value=e[0]),a=new Me({props:p}),D.push(()=>U(a,"value",R));const I=[gn,cn],C=[];function T(v,g){return v[7]?0:1}return _=T(e),m=C[_]=I[_](e),{c(){t=O("div"),n=O("div"),X(l.$$.fragment),r=j(),X(o.$$.fragment),u=j(),X(a.$$.fragment),c=j(),f=O("div"),h=O("div"),S=O("label"),S.textContent="Shimmer",b=j(),w=O("input"),y=j(),m.c(),d(S,"for","glow"),d(S,"class","svelte-1a8sgfo"),d(w,"type","checkbox"),d(w,"id","glow"),d(w,"name","glow"),d(w,"class","svelte-1a8sgfo"),d(h,"class","wrapper svelte-1a8sgfo"),d(f,"class","glow checkbox control svelte-1a8sgfo"),d(n,"class","basic controls"),d(t,"class","controls container svelte-1a8sgfo")},m(v,g){K(v,t,g),E(t,n),Q(l,n,null),E(n,r),Q(o,n,null),E(n,u),Q(a,n,null),E(n,c),E(n,f),E(f,h),E(h,S),E(h,b),E(h,w),w.checked=e[3],E(t,y),C[_].m(t,null),M=!0,L||(k=Y(w,"change",e[15]),L=!0)},p(v,[g]){const P={};!i&&g&64&&(i=!0,P.value=v[6],H(()=>i=!1)),o.$set(P);const A={};!s&&g&1&&(s=!0,A.value=v[0],H(()=>s=!1)),a.$set(A),g&8&&(w.checked=v[3]);let B=_;_=T(v),_===B?C[_].p(v,g):(nt(),q(C[B],1,1,()=>{C[B]=null}),lt(),m=C[_],m?m.p(v,g):(m=C[_]=I[_](v),m.c()),F(m,1),m.m(t,null))},i(v){M||(F(l.$$.fragment,v),F(o.$$.fragment,v),F(a.$$.fragment,v),F(m),M=!0)},o(v){q(l.$$.fragment,v),q(o.$$.fragment,v),q(a.$$.fragment,v),q(m),M=!1},d(v){v&&W(t),Z(l),Z(o),Z(a),C[_].d(),L=!1,k()}}}function _n(e,t,n){let{brightness:l=ye.default}=t,{colorTemperature:r=Oe.default}=t,{filterStrength:o=ze.default}=t,{bloom:i=ut.default}=t,{glow:u=!1}=t,{ledMode:a=!1}=t,{glowPeriod:s=De.default}=t,{colorOption:c="christmas"}=t,{preset:f="incandescent"}=t,h=!1;function S(){return ln().map(p=>({value:p.key,label:p.label}))}function b(){return $t().map(p=>({label:p.label,value:p.key}))}function w(p){if(!on(p))return;n(11,f=p);const I=gt(f);n(0,l=I.brightness??l),n(1,r=I.colorTemperature??r),n(2,o=I.filterStrength??o),n(3,u=I.glow??u),n(4,a=I.ledMode??a),n(6,c=I.colorOption??c)}function y(p){c=p,n(6,c)}function _(p){l=p,n(0,l)}function m(){u=this.checked,n(3,u)}const M=p=>n(7,h=!1);function L(p){r=p,n(1,r)}function k(p){o=p,n(2,o)}function z(p){s=p,n(5,s)}function G(){a=this.checked,n(4,a)}const R=p=>n(7,h=!0);return e.$$set=p=>{"brightness"in p&&n(0,l=p.brightness),"colorTemperature"in p&&n(1,r=p.colorTemperature),"filterStrength"in p&&n(2,o=p.filterStrength),"bloom"in p&&n(12,i=p.bloom),"glow"in p&&n(3,u=p.glow),"ledMode"in p&&n(4,a=p.ledMode),"glowPeriod"in p&&n(5,s=p.glowPeriod),"colorOption"in p&&n(6,c=p.colorOption),"preset"in p&&n(11,f=p.preset)},[l,r,o,u,a,s,c,h,S,b,w,f,i,y,_,m,M,L,k,z,G,R]}class hn extends ae{constructor(t){super(),fe(this,t,_n,dn,ue,{brightness:0,colorTemperature:1,filterStrength:2,bloom:12,glow:3,ledMode:4,glowPeriod:5,colorOption:6,preset:11})}}function mn(e){return je(.25,.1,.25,.1)(e)}function bn(e){return je(0,0,.58,1)(e)}function vn(e){const t=Array.from(_e).reverse().find(r=>r[0]<=e)||_t,n=Array.from(_e).find(r=>r[0]>e)||ht;if(t===n)return t[1];const l=(e-t[0])/(n[0]-t[0]);return at(t[1],n[1],1-l)}const wn=1e3;function pn(e,t=wn,n){return{startTemperature:e-t,endTemperature:e+t,easing:n??(l=>l)}}function Sn(e,t){const n=ye.max,l=t/n,r=Wt(e.startTemperature,e.endTemperature,e.easing(l));return x(vn(r),t)}const _e=[[1e3,V(1,.2196078431372549,0)],[2e3,V(1,.5764705882352941,.17254901960784313)],[3300,V(1,.7450980392156863,.49411764705882355)],[4e3,V(1,.8196078431372549,.6392156862745098)],[5500,V(1,.9254901960784314,.8784313725490196)],[7e3,V(.9607843137254902,.9529411764705882,1)],[1e4,V(.8117647058823529,.8549019607843137,1)],[12e3,V(.7647058823529411,.8196078431372549,1)]],_t=_e[0],ht=_e[_e.length-1];_t[0]-ht[0];function Mn(e,t,n,l=1){const r=Ie(e,t,n*.8,l*1),o=Ie(e,t,n*1.2,l*.8),i=Ie(e,t,n*1.4,l*.4),u=r,a=pe(u);return{low:r,mid:o,high:i,glow:u,glowBrightness:a}}function Tn(e){let t;return{c(){t=O("div"),t.innerHTML='<div class="layer_1 glow_1 svelte-zjrndb"><div class="layer layer_1 svelte-zjrndb"><div class="layer layer_2 svelte-zjrndb"><div class="layer layer_3 svelte-zjrndb"></div></div></div></div>',d(t,"class","color_box svelte-zjrndb"),N(t,"--low",e[6]),N(t,"--mid",e[5]),N(t,"--high",e[4]),N(t,"--glowLow",e[3]),N(t,"--glowMid",e[2]),N(t,"--glowHigh",e[1]),N(t,"--glowRadius",e[0])},m(n,l){K(n,t,l)},p(n,[l]){l&64&&N(t,"--low",n[6]),l&32&&N(t,"--mid",n[5]),l&16&&N(t,"--high",n[4]),l&8&&N(t,"--glowLow",n[3]),l&4&&N(t,"--glowMid",n[2]),l&2&&N(t,"--glowHigh",n[1]),l&1&&N(t,"--glowRadius",n[0])},i:J,o:J,d(n){n&&W(t)}}}const Cn=128;function En(e,t,n){let l,r,o,i,u,a,s,c,f,h,S,b,w,{lightSource:y}=t,{color:_}=t,{filterStrength:m}=t,{brightness:M}=t,{bloom:L=0}=t,{ledMode:k}=t,{numLights:z=16}=t;const G=k?.4:.2;return e.$$set=R=>{"lightSource"in R&&n(7,y=R.lightSource),"color"in R&&n(8,_=R.color),"filterStrength"in R&&n(9,m=R.filterStrength),"brightness"in R&&n(10,M=R.brightness),"bloom"in R&&n(11,L=R.bloom),"ledMode"in R&&n(12,k=R.ledMode),"numLights"in R&&n(13,z=R.numLights)},e.$$.update=()=>{e.$$.dirty&12288&&n(14,l=Cn/z*(k?1:1.5)),e.$$.dirty&1920&&n(18,{low:r,mid:o,high:i,glow:u,glowBrightness:a}=Mn(x(y,M),_,M,m),r,(n(17,o),n(7,y),n(10,M),n(8,_),n(9,m)),(n(16,i),n(7,y),n(10,M),n(8,_),n(9,m)),(n(15,a),n(7,y),n(10,M),n(8,_),n(9,m))),e.$$.dirty&262144&&n(6,s=le(r)),e.$$.dirty&131072&&n(5,c=le(o)),e.$$.dirty&65536&&n(4,f=le(i)),e.$$.dirty&262144&&n(3,h=le(r,pe(r)*G)),e.$$.dirty&131072&&n(2,S=le(o,pe(o)*G)),e.$$.dirty&65536&&n(1,b=le(i,pe(i)*G)),e.$$.dirty&49152&&n(0,w=`${Math.min(a*l,60)}vw`)},[w,b,S,h,f,c,s,y,_,m,M,L,k,z,l,a,i,o,r]}class yn extends ae{constructor(t){super(),fe(this,t,En,Tn,ue,{lightSource:7,color:8,filterStrength:9,brightness:10,bloom:11,ledMode:12,numLights:13})}}function xe(e,t,n){const l=e.slice();return l[27]=t[n],l}function $e(e){let t,n;return t=new yn({props:{lightSource:e[27].lightSource,color:e[27].color,filterStrength:e[0],brightness:e[27].brightness,bloom:e[1],ledMode:e[2],numLights:e[5]}}),{c(){X(t.$$.fragment)},m(l,r){Q(t,l,r),n=!0},p(l,r){const o={};r&16&&(o.lightSource=l[27].lightSource),r&16&&(o.color=l[27].color),r&1&&(o.filterStrength=l[0]),r&16&&(o.brightness=l[27].brightness),r&2&&(o.bloom=l[1]),r&4&&(o.ledMode=l[2]),r&32&&(o.numLights=l[5]),t.$set(o)},i(l){n||(F(t.$$.fragment,l),n=!0)},o(l){q(t.$$.fragment,l),n=!1},d(l){Z(t,l)}}}function On(e){let t,n,l,r=se(e[4]),o=[];for(let u=0;u<r.length;u+=1)o[u]=$e(xe(e,r,u));const i=u=>q(o[u],1,1,()=>{o[u]=null});return{c(){t=O("div"),n=O("div");for(let u=0;u<o.length;u+=1)o[u].c();d(n,"class","lights svelte-m4esw3"),N(n,"--lightsPerRow",e[3]),N(n,"--aspectRatio",e[7]),N(n,"--inverseAspectRatio",e[6]),d(t,"class","color_simulator svelte-m4esw3")},m(u,a){K(u,t,a),E(t,n);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(n,null);l=!0},p(u,[a]){if(a&55){r=se(u[4]);let s;for(s=0;s<r.length;s+=1){const c=xe(u,r,s);o[s]?(o[s].p(c,a),F(o[s],1)):(o[s]=$e(c),o[s].c(),F(o[s],1),o[s].m(n,null))}for(nt(),s=r.length;s<o.length;s+=1)i(s);lt()}a&8&&N(n,"--lightsPerRow",u[3]),a&128&&N(n,"--aspectRatio",u[7]),a&64&&N(n,"--inverseAspectRatio",u[6])},i(u){if(!l){for(let a=0;a<r.length;a+=1)F(o[a]);l=!0}},o(u){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)q(o[a]);l=!1},d(u){u&&W(t),Ve(o,u)}}}function Pn(e,t,n){let l,r,o,i,u,a,s,c,f,h,{brightness:S=.5}=t,{colorTemperature:b=4e3}=t,{filterStrength:w=1}=t,{bloom:y=1}=t,{glow:_=!1}=t,{glowPeriod:m=8e3}=t,{glowRange:M={start:.5,end:1.25}}=t,{ledMode:L=!1}=t,{colorOption:k="christmas"}=t;function z(T,v,g,P,A,B,te,Pe=!1,Re=8e3){return T.map((Fe,Ge)=>{v=Pe?Fe:v;let He=1;if(A){const mt=B%Re,bt=(te==null?void 0:te[Ge])||Math.floor(Ge/T.length*Re),vt=(mt+bt)%Re;He=C.get(vt)}return{color:Fe,lightSource:v,filterStrength:P,brightness:g*(He??1)}})}function G(T,v){const g=T%v/v,P=Math.abs(g-.5)*2,A=mn(P);return M.start*(1-A)+M.end*A}const R=(T,v)=>{const g=je(0,1.08,.11,.87),P=bn,te=v?[0,1.5]:[0,1.5],Pe=v?P:g;return te[0]+Pe(T)*te[1]};let p,I,C;return yt(()=>{const T=setInterval(()=>{_&&n(4,p=z(c,I,r,w,_,new Date().getTime(),f,L,m))},8);return()=>{clearInterval(T)}}),e.$$set=T=>{"brightness"in T&&n(8,S=T.brightness),"colorTemperature"in T&&n(9,b=T.colorTemperature),"filterStrength"in T&&n(0,w=T.filterStrength),"bloom"in T&&n(1,y=T.bloom),"glow"in T&&n(10,_=T.glow),"glowPeriod"in T&&n(11,m=T.glowPeriod),"glowRange"in T&&n(12,M=T.glowRange),"ledMode"in T&&n(2,L=T.ledMode),"colorOption"in T&&n(13,k=T.colorOption)},e.$$.update=()=>{e.$$.dirty&2048&&(C=new Map(new Array(m).fill(void 0).map((T,v)=>[v,G(v,m)]))),e.$$.dirty&8192&&n(19,l=tn(k)),e.$$.dirty&260&&n(16,r=R(S,L)),e.$$.dirty&512&&n(20,o=pn(b)),e.$$.dirty&1048836&&n(14,I=L?Se:Sn(o,S)),e.$$.dirty&524288&&n(18,u=l.length),e.$$.dirty&262144&&console.log(u),e.$$.dirty&524288&&n(3,i=l.length),e.$$.dirty&262152&&n(7,a=i/u),e.$$.dirty&262152&&n(6,s=i/u),e.$$.dirty&786432&&n(17,c=qt(l,u)),e.$$.dirty&133120&&n(15,f=c.map(()=>Math.floor(Math.random()*m))),e.$$.dirty&131072&&n(5,h=c.length),e.$$.dirty&248837&&n(4,p=z(c,I,r,w,_,new Date().getTime(),f,L,m))},[w,y,L,i,p,h,s,a,S,b,_,m,M,k,I,f,r,c,u,l,o]}class Rn extends ae{constructor(t){super(),fe(this,t,Pn,On,ue,{brightness:8,colorTemperature:9,filterStrength:0,bloom:1,glow:10,glowPeriod:11,glowRange:12,ledMode:2,colorOption:13})}}function Ln(e){let t,n,l,r,o,i,u,a,s,c,f,h,S,b,w,y,_,m,M,L;i=new Rn({props:{brightness:e[0],colorTemperature:e[2],filterStrength:e[3],bloom:e[1],glow:e[4],glowPeriod:e[5],ledMode:e[6],colorOption:e[7]}});function k(g){e[8](g)}function z(g){e[9](g)}function G(g){e[10](g)}function R(g){e[11](g)}function p(g){e[12](g)}function I(g){e[13](g)}function C(g){e[14](g)}function T(g){e[15](g)}let v={};return e[0]!==void 0&&(v.brightness=e[0]),e[2]!==void 0&&(v.colorTemperature=e[2]),e[3]!==void 0&&(v.filterStrength=e[3]),e[1]!==void 0&&(v.bloom=e[1]),e[4]!==void 0&&(v.glow=e[4]),e[5]!==void 0&&(v.glowPeriod=e[5]),e[6]!==void 0&&(v.ledMode=e[6]),e[7]!==void 0&&(v.colorOption=e[7]),s=new hn({props:v}),D.push(()=>U(s,"brightness",k)),D.push(()=>U(s,"colorTemperature",z)),D.push(()=>U(s,"filterStrength",G)),D.push(()=>U(s,"bloom",R)),D.push(()=>U(s,"glow",p)),D.push(()=>U(s,"glowPeriod",I)),D.push(()=>U(s,"ledMode",C)),D.push(()=>U(s,"colorOption",T)),{c(){t=O("div"),n=O("div"),n.innerHTML="<h1>Color Simulator</h1>",l=j(),r=O("div"),o=O("div"),X(i.$$.fragment),u=j(),a=O("div"),X(s.$$.fragment),m=j(),M=O("div"),d(n,"class","header svelte-1crojve"),d(o,"class","color_simulator_container svelte-1crojve"),d(a,"class","color_controls_container svelte-1crojve"),d(r,"class","content svelte-1crojve"),d(M,"class","footer svelte-1crojve"),d(t,"class","page svelte-1crojve")},m(g,P){K(g,t,P),E(t,n),E(t,l),E(t,r),E(r,o),Q(i,o,null),E(r,u),E(r,a),Q(s,a,null),E(t,m),E(t,M),L=!0},p(g,[P]){const A={};P&1&&(A.brightness=g[0]),P&4&&(A.colorTemperature=g[2]),P&8&&(A.filterStrength=g[3]),P&2&&(A.bloom=g[1]),P&16&&(A.glow=g[4]),P&32&&(A.glowPeriod=g[5]),P&64&&(A.ledMode=g[6]),P&128&&(A.colorOption=g[7]),i.$set(A);const B={};!c&&P&1&&(c=!0,B.brightness=g[0],H(()=>c=!1)),!f&&P&4&&(f=!0,B.colorTemperature=g[2],H(()=>f=!1)),!h&&P&8&&(h=!0,B.filterStrength=g[3],H(()=>h=!1)),!S&&P&2&&(S=!0,B.bloom=g[1],H(()=>S=!1)),!b&&P&16&&(b=!0,B.glow=g[4],H(()=>b=!1)),!w&&P&32&&(w=!0,B.glowPeriod=g[5],H(()=>w=!1)),!y&&P&64&&(y=!0,B.ledMode=g[6],H(()=>y=!1)),!_&&P&128&&(_=!0,B.colorOption=g[7],H(()=>_=!1)),s.$set(B)},i(g){L||(F(i.$$.fragment,g),F(s.$$.fragment,g),L=!0)},o(g){q(i.$$.fragment,g),q(s.$$.fragment,g),L=!1},d(g){g&&W(t),Z(i),Z(s)}}}function Nn(e,t,n){let l=ye.default,r=ut.default,o=Oe.default,i=ze.default,u=!0,a=De.default,s=!1,c="christmas";function f(M){l=M,n(0,l)}function h(M){o=M,n(2,o)}function S(M){i=M,n(3,i)}function b(M){r=M,n(1,r)}function w(M){u=M,n(4,u)}function y(M){a=M,n(5,a)}function _(M){s=M,n(6,s)}function m(M){c=M,n(7,c)}return[l,r,o,i,u,a,s,c,f,h,S,b,w,y,_,m]}class In extends ae{constructor(t){super(),fe(this,t,Nn,Ln,ue,{})}}new In({target:document.getElementById("app")});

</script>
    <style>
:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}.control.svelte-1vqt43w{margin:auto;width:200px}label.svelte-1vqt43w{display:block;text-align:center}input.svelte-1vqt43w{display:block;margin:auto;width:100%}datalist.svelte-1vqt43w{display:flex;justify-content:space-between;font-size:small;width:100%;margin:auto}option.svelte-1vqt43w{padding:0}@media only screen and (max-width: 480px){datalist.svelte-1vqt43w{display:none}}.select.control.svelte-1ah8fr5 label.svelte-1ah8fr5{display:block;width:100%}.select.control.svelte-1ah8fr5 select.svelte-1ah8fr5{background-color:#111;color:#aaa;display:block;width:100%;text-align:center}.select.control.svelte-1ah8fr5.svelte-1ah8fr5{margin-bottom:2em}select.svelte-1ah8fr5.svelte-1ah8fr5{margin:auto;position:relative;top:4px;float:right}label.svelte-1ah8fr5.svelte-1ah8fr5{text-align:center}.controls.container.svelte-1a8sgfo.svelte-1a8sgfo{margin:auto;max-width:300px;max-height:100%;display:flex;flex-direction:column;overflow:auto;box-sizing:border-box;background-color:#222;border-radius:10px;padding:1em}.control.svelte-1a8sgfo.svelte-1a8sgfo{margin:auto;width:100%}.text_button.svelte-1a8sgfo.svelte-1a8sgfo{width:200px;background:none;border:0;cursor:pointer;margin:auto;text-decoration:underline;color:#ccc}.advanced_toggle.svelte-1a8sgfo.svelte-1a8sgfo{margin-top:1em}.control.svelte-1a8sgfo .wrapper.svelte-1a8sgfo{display:block;margin:auto;width:14em;padding-left:1em;padding-right:1em;box-sizing:border-box}.control.svelte-1a8sgfo label.svelte-1a8sgfo{text-align:center}.control.svelte-1a8sgfo input.svelte-1a8sgfo{margin:auto;width:1.5em;height:1.5em;position:relative;top:4px;float:right}.color_box.svelte-zjrndb.svelte-zjrndb{grid-column-start:auto;grid-column-end:auto;display:block;aspect-ratio:1;width:100%;height:100%}.color_box.svelte-zjrndb .layer.svelte-zjrndb{margin:auto;aspect-ratio:1;display:flex;border-radius:2%}.color_box.svelte-zjrndb .glow_1.svelte-zjrndb{border-radius:50%;box-shadow:0 0 calc(var(--glowRadius) * .5) var(--glowRadius) var(--glowLow)}.color_box.svelte-zjrndb .layer_1.svelte-zjrndb{background-color:var(--low, #ddd)}.color_box.svelte-zjrndb .layer_2.svelte-zjrndb{width:75%;background-color:var(--mid, #ddd)}.color_box.svelte-zjrndb .layer_3.svelte-zjrndb{width:50%;background-color:var(--high, #ddd)}.lights.svelte-m4esw3{--maxHeight:100%;--maxWidth:min(100%, var(--maxWidthFromHeight))}.color_simulator.svelte-m4esw3{display:flex;animation:svelte-m4esw3-fadein .4s;flex-direction:column;flex-grow:1;flex-shrink:1;overflow:visible;margin:auto;aspect-ratio:1;width:100%;height:100%}.lights.svelte-m4esw3{--maxWidthFromHeight:calc((var(--maxHeight) * var(--aspectRatio)));--maxHeightFromWidth:calc((var(--maxWidth) * var(--inverseAspectRatio)));overflow:visible;margin:auto;box-sizing:border-box;padding:2em;aspect-ratio:1;flex-grow:1;display:grid;grid-auto-flow:row;grid-gap:2%;grid-template-columns:repeat(var(--lightsPerRow),minmax(0,1fr));grid-auto-rows:min-content;max-width:100%}@keyframes svelte-m4esw3-fadein{0%{opacity:0}to{opacity:1}}:root{--background-color:#000000;--font-color:#666666;--border-color:#111111;background:var(--background-color);color:var(--font-color);font-family:Arial,Helvetica,sans-serif;height:100%;font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}.page.svelte-1crojve{box-sizing:border-box;height:100%;width:100%;overflow:auto;display:flex;flex-direction:column}.header.svelte-1crojve{padding:0 8px;margin:0 8px;height:6em}.footer.svelte-1crojve{height:6em}.content.svelte-1crojve{box-sizing:border-box;overflow:visible;display:flex;flex-grow:1;flex-shrink:1;flex-basis:100%;max-height:calc(100% - 1em);flex-direction:column;flex-wrap:wrap;justify-content:space-between;gap:10px}.color_simulator_container.svelte-1crojve{overflow:visible;box-sizing:border-box;display:flex;flex-shrink:1;flex-grow:3}.color_controls_container.svelte-1crojve{box-sizing:border-box;display:flex;flex-grow:1}@media (min-width: 800px){.color_controls_container.svelte-1crojve{min-height:90%;width:325px}.color_simulator_container.svelte-1crojve{min-height:90%;width:calc(100% - 335px)}.content.svelte-1crojve{max-height:calc(100% - 12em)}}@media (max-width: 800px){.header.svelte-1crojve,.footer.svelte-1crojve{display:none}}

</style>
  </head>
  <body>
    <div id="app"></div>
    
  </body>

  <style>
    html {
      height: 100%;
    }
    body {
      height: 100%;
      margin: 0px;
    }
    #app {
      height: 100%;
    }
  </style>
</html>
